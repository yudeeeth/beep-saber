(this["webpackJsonpbeep-saber"]=this["webpackJsonpbeep-saber"]||[]).push([[0],{26:function(e,n){var o,i,t,a,r,d;var c=function(){for(var e=0;e<t.children.length;e++)if("obstacle"===t.children[e].userData.objectType){var n=t.children[e];for(var o in a){var i=void 0;null!==n.geometry.boundingSphere&&null!==a[o].geometry.boundingSphere&&(i=Math.pow(n.geometry.boundingSphere.radius,2)+Math.pow(a[o].geometry.boundingSphere.radius,2)),n.position.distanceToSquared(a[o].position)<i&&(console.log("collision"),t.remove(n))}}};function s(){var e=60*d.getDelta();c();for(var n=0;n<t.children.length;n++){var a=t.children[n];"obstacle"===a.userData.objectType&&(a.userData.velocity.multiplyScalar(1-.001*e),a.position.add(a.userData.velocity),a.position.z>7.5&&t.remove(a))}o.render(r,i)}e.exports={onWindowResize:function(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)},animate:function(){o.setAnimationLoop((function(){s()}))},handleCollisions:c,render:s,initialise:function(e,n,c,s,l,u){o=e,i=n,t=c,a=s,r=l,d=u}}},52:function(e,n,o){},86:function(e,n,o){"use strict";o.r(n);var i=o(21),t=o(44),a=o.n(t),r=o(24),d=(o(52),o(45)),c=o(5),s=o(46),l=o(47),u=o(26),p=o(23);var w=function(){var e,n,o,t,a,w=new c.c,h={};Object(i.useEffect)((function(){var e=Object(l.io)("https://beep-saber.herokuapp.com/",{withCredentials:!0,extraHeaders:{"my-custom-header":"abcd"}});e.on("connect",(function(){console.log("Connected to",e.id)})),e.on("coords",(function(e){"beepbeep"==e[0]&&f(e.slice(1))}))}),[]);var f=function(e){var n,o,i=b(e),t=Object(r.a)(i,2);n=t[0],o=t[1];var a=[h.left.position,h.right.position],d=e[0]?1:0;"front"==e.splice(-1)[0]?(a[d].x=n,a[d].y=o):(a[d].z=n-3,a[d].y=o),m(a)},b=function(e){return[1.5-3*e[1].x,3-3*e[1].y]},v=function(e,n){setInterval((function(){a.add(function(e){var n=new c.j(e,new c.k({color:Math.random()>.5?16711680:255}));return n.userData.velocity=new c.o,n.userData.objectType="obstacle",n.position.x=3*Math.random()-1.5,n.position.y=3*Math.random(),n.position.z=-15,n.userData.velocity.z=.05,n}(e))}),n)},m=function(e){for(var n=e[0],o=e[1],i=["x","y","z"],t=0;t<3;t++)h.left.position[i[t]]=n[i[t]];for(var a=0;a<3;a++)h.right.position[i[a]]=o[i[a]]};return e=document.createElement("div"),document.body.appendChild(e),(o=new c.m).background=new c.d(0),(n=new c.l(50,window.innerWidth/window.innerHeight,.1,10)).position.set(0,1.6,3),o.add(n),function(){a=new c.i(new s.a(3,3,30,6,6,15).translate(0,1.5,0),new c.h({color:8421504})),o.add(a),o.add(new c.g(6316128,4210752));var e=new c.e(16777215);e.position.set(1,1,1).normalize(),o.add(e)}(),v(new c.a(.5,.5,.5),1e3),function(){for(var e=["left","right"],n=0;n<2;n++){var o=new c.j(new c.n(.2,16,8),new c.k({color:0===n?16711680:255}));o.position.x=0,o.position.y=1.5,o.position.z=-1,o.userData.objectType="killerBall",a.add(o),h[e[n]]=o}}(),(t=new c.p({antialias:!0})).setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),t.outputEncoding=c.q,t.xr.enabled=!0,e.appendChild(t.domElement),window.addEventListener("resize",(function(){Object(u.onWindowResize)()})),document.body.appendChild(d.a.createButton(t)),Object(u.initialise)(t,n,a,h,o,w),Object(u.animate)(),Object(p.jsx)("div",{className:"App"})};a.a.render(Object(p.jsx)(w,{}),document.getElementById("root"))}},[[86,1,2]]]);